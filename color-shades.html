<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Color Shades — Tints & Shades</title>
  
  <style>
    @font-face {
      font-family: "Mona Sans";
      src: url("assets/fonts/MonaSans-VariableFont_wdth.ttf") format("truetype");
      font-weight: 200 900;
      font-style: normal;
    }

    @font-face {
      font-family: "Mona Sans";
      src: url("assets/fonts/MonaSans-Italic-VariableFont_wdth.ttf") format("truetype");
      font-weight: 200 900;
      font-style: italic;
    }

    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --accent: #fd6204;
      --accent-rgb: 8, 193, 149;
      --sidebar: 300px;

      --bg: #f4f2ee;
      --surface: #ffffff;
      --surface2: #faf9f6;
      --surface3: #f0ede8;

      --ink: #1c1a17;
      --ink-2: #706c63;
      --ink-3: #a8a49b;
      --ink-4: #d4d0c9;

      --border: rgba(28, 26, 23, 0.07);
      --border-md: rgba(28, 26, 23, 0.11);
      --border-lg: rgba(28, 26, 23, 0.16);

      --sans: 'Mona Sans', sans-serif;
      --mono: 'Mona Sans', monospace;
      --ease: cubic-bezier(0.22, 1, 0.36, 1);
    }

    html,
    body {
      height: 100%;
    }

    body {
      font-family: var(--sans);
      background: var(--bg);
      color: var(--ink);
      display: flex;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* ══════════════════════════════════════════
       SIDEBAR
    ══════════════════════════════════════════ */
    .sidebar {
      position: fixed;
      inset: 0 auto 0 0;
      width: var(--sidebar);
      background: var(--surface);
      border-right: 1px solid var(--border-md);
      display: flex;
      flex-direction: column;
      z-index: 50;
      overflow-y: auto;
      overflow-x: hidden;
      box-shadow: 2px 0 24px rgba(28, 26, 23, 0.06);
    }

    /* ── Brand ── */
    .brand {
      padding: 24px 24px 20px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .brand-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      background: var(--accent);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: var(--sans);
      font-weight: 700;
      font-size: 15px;
      color: #fff;
      flex-shrink: 0;
      transition: background 0.4s var(--ease);
      position: relative;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(var(--accent-rgb), 0.38);
    }

    .brand-icon::after {
      content: '';
      position: absolute;
      top: -30%;
      left: -10%;
      width: 60%;
      height: 60%;
      background: rgba(255, 255, 255, 0.28);
      border-radius: 50%;
      pointer-events: none;
    }

    .brand-name {
      font-size: 15px;
      font-weight: 700;
      color: var(--ink);
      letter-spacing: -0.02em;
      line-height: 1.1;
      text-decoration: none;
    }

    .brand-tag {
      font-size: 10px;
      font-family: var(--mono);
      color: var(--ink-3);
      letter-spacing: 0.04em;
      margin-top: 2px;
    }

    /* ── Section wrapper ── */
    .s-panel {
      padding: 20px 24px;
      border-bottom: 1px solid var(--border);
    }

    .s-label {
      font-size: 9px;
      font-weight: 700;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--ink-3);
      margin-bottom: 12px;
    }

    /* ── Color input ── */
    .color-row {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .color-btn {
      width: 52px;
      height: 52px;
      border-radius: 12px;
      border: 1.5px solid var(--border-md);
      background: var(--accent);
      position: relative;
      overflow: hidden;
      flex-shrink: 0;
      cursor: pointer;
      transition: transform 0.18s var(--ease), box-shadow 0.18s;
      box-shadow: 0 2px 10px rgba(var(--accent-rgb), 0.3);
    }

    .color-btn:hover {
      transform: scale(1.06);
      box-shadow: 0 4px 18px rgba(var(--accent-rgb), 0.45);
    }

    .color-btn::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(140deg, rgba(255, 255, 255, 0.22) 0%, transparent 55%);
      pointer-events: none;
    }

    .color-btn input[type="color"] {
      position: absolute;
      inset: -4px;
      width: calc(100% + 8px);
      height: calc(100% + 8px);
      opacity: 0;
      cursor: pointer;
    }

    .hex-input {
      flex: 1;
      background: var(--surface2);
      border: 1.5px solid var(--border-md);
      border-radius: 10px;
      height: 52px;
      padding: 0 14px;
      font-family: var(--mono);
      font-size: 15px;
      font-weight: 400;
      color: var(--ink);
      outline: none;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      transition: border-color 0.2s, box-shadow 0.2s;
      caret-color: var(--accent);
      width: 100%;
    }

    .hex-input:focus {
      border-color: var(--accent);
      background: #fff;
      box-shadow: 0 0 0 3px rgba(var(--accent-rgb), 0.14);
    }

    /* ── Percent slider ── */
    .pct-display {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      margin-bottom: 16px;
    }

    .pct-number {
      font-size: 56px;
      font-weight: 300;
      letter-spacing: -4px;
      color: var(--ink);
      line-height: 1;
      transition: color 0.3s;
    }

    .pct-number em {
      font-style: normal;
      font-size: 22px;
      font-weight: 400;
      letter-spacing: 0;
      color: var(--ink-3);
      margin-left: 2px;
    }

    .pct-info {
      text-align: right;
      padding-bottom: 6px;
    }

    .pct-info-n {
      font-family: var(--mono);
      font-size: 22px;
      font-weight: 300;
      color: var(--ink);
      letter-spacing: -1px;
      line-height: 1;
    }

    .pct-info-l {
      font-size: 9px;
      font-weight: 600;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--ink-3);
      margin-top: 3px;
    }

    /* Custom slider */
    .range-wrap {
      position: relative;
      height: 20px;
      display: flex;
      align-items: center;
      margin-bottom: 6px;
    }

    .range-track {
      position: absolute;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--surface3);
      border-radius: 99px;
      overflow: hidden;
    }

    .range-fill {
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      background: var(--accent);
      border-radius: 99px;
      transition: width 0.08s, background 0.4s;
    }

    .range-thumb {
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #fff;
      border: 2px solid var(--accent);
      box-shadow: 0 1px 8px rgba(var(--accent-rgb), 0.4), 0 1px 3px rgba(0, 0, 0, 0.1);
      pointer-events: none;
      transition: border-color 0.4s, box-shadow 0.4s;
      z-index: 2;
    }

    input[type="range"].rng {
      position: absolute;
      inset: 0;
      width: 100%;
      opacity: 0;
      cursor: pointer;
      -webkit-appearance: none;
      appearance: none;
      margin: 0;
      height: 100%;
      z-index: 3;
    }

    .range-ticks {
      display: flex;
      justify-content: space-between;
      font-family: var(--mono);
      font-size: 9px;
      color: var(--ink-3);
    }

    /* ── Color values ── */
    .vals {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }

    .val-item {
      display: grid;
      grid-template-columns: 30px 1fr 18px;
      align-items: center;
      gap: 10px;
      padding: 9px 12px;
      background: var(--surface2);
      border: 1.5px solid var(--border);
      border-radius: 9px;
      cursor: pointer;
      transition: border-color 0.18s, box-shadow 0.18s;
    }

    .val-item:hover {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(var(--accent-rgb), 0.1);
    }

    .val-item:active {
      transform: scale(0.985);
    }

    .val-tag {
      font-family: var(--mono);
      font-size: 9px;
      font-weight: 500;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .val-str {
      font-family: var(--mono);
      font-size: 11px;
      color: var(--ink);
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .val-ico {
      color: var(--ink-4);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: color 0.15s;
    }

    .val-item:hover .val-ico {
      color: var(--accent);
    }

    /* ── Sidebar footer ── */
    .s-footer {
      margin-top: auto;
      padding: 14px 24px;
      border-top: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .s-footer span,
    .s-footer a {
      font-family: var(--mono);
      font-size: 14px;
      color: var(--ink-3);
      text-decoration: none;
      text-align: center;
      width: 100%;
    }

    /* Scrollbar */
    .sidebar::-webkit-scrollbar {
      width: 3px;
    }

    .sidebar::-webkit-scrollbar-thumb {
      background: var(--ink-4);
      border-radius: 99px;
    }

    /* ══════════════════════════════════════════
       MAIN
    ══════════════════════════════════════════ */
    .main {
      margin-left: var(--sidebar);
      flex: 1;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    /* Gradient accent strip */
    .accent-strip {
      height: 3px;
      background: linear-gradient(to right, #fff, var(--accent), #000);
      transition: background 0.4s var(--ease);
      flex-shrink: 0;
    }

    /* ── Top bar ── */
    .topbar {
      position: sticky;
      top: 0;
      z-index: 20;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 28px;
      height: 54px;
      background: rgba(244, 242, 238, 0.9);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      border-bottom: 1px solid var(--border);
    }

    .topbar-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .topbar-title {
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: var(--ink-3);
    }

    .color-chip {
      display: flex;
      align-items: center;
      gap: 8px;
      background: var(--surface);
      border: 1.5px solid var(--border-md);
      border-radius: 99px;
      padding: 5px 12px 5px 6px;
      box-shadow: 0 1px 4px rgba(28, 26, 23, 0.07);
    }

    .chip-dot {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      border: 1.5px solid rgba(0, 0, 0, 0.08);
      flex-shrink: 0;
      transition: background 0.4s;
    }

    .chip-hex {
      font-family: var(--mono);
      font-size: 12px;
      font-weight: 400;
      color: var(--ink);
      letter-spacing: 0.04em;
    }

    .topbar-right {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .view-toggle {
      display: flex;
      background: var(--surface);
      border: 1.5px solid var(--border-md);
      border-radius: 9px;
      overflow: hidden;
      box-shadow: 0 1px 4px rgba(28, 26, 23, 0.07);
    }

    .vbtn {
      width: 34px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: none;
      border: none;
      cursor: pointer;
      color: var(--ink-3);
      transition: background 0.15s, color 0.15s;
    }

    .vbtn.on {
      background: var(--surface3);
      color: var(--ink);
    }

    .vbtn:hover:not(.on) {
      color: var(--ink-2);
    }

    /* ── Swatches ── */
    .swatches-wrap {
      flex: 1;
      padding-bottom: 60px;
    }

    /* Section heading */
    .sec-bar {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px 28px;
      position: sticky;
      top: 54px;
      z-index: 10;
      background: rgba(244, 242, 238, 0.88);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
    }

    .sec-name {
      font-size: 9px;
      font-weight: 700;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--ink-3);
      white-space: nowrap;
    }

    .sec-rule {
      flex: 1;
      height: 1px;
      background: var(--border-md);
    }

    .sec-num {
      font-family: var(--mono);
      font-size: 10px;
      color: var(--ink-3);
    }

    /* ════════════════════════════
       GRID SWATCHES — KEY CHANGE:
       hex + pct always visible
    ════════════════════════════ */
    .sw-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
    }

    .sw {
      position: relative;
      aspect-ratio: 1;
      cursor: pointer;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      padding: 10px 10px 10px 12px;
      transition: transform 0.22s var(--ease), box-shadow 0.22s var(--ease), z-index 0s;
      z-index: 1;
    }

    .sw:hover {
      transform: scale(1.06);
      z-index: 5;
      border-radius: 6px;
      box-shadow: 0 16px 48px rgba(28, 26, 23, 0.22);
    }

    /* Scrim — gradient overlay so text is always legible */
    .sw::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(to top, rgba(0, 0, 0, 0.3) 0%, transparent 55%);
      pointer-events: none;
      z-index: 0;
      opacity: 0.6;
      transition: opacity 0.2s;
    }

    /* Light scrim for very light swatches */
    .sw.light-swatch::before {
      background: linear-gradient(to top, rgba(0, 0, 0, 0.14) 0%, transparent 55%);
    }

    .sw:hover::before {
      opacity: 1;
    }

    /* Gloss shimmer on hover */
    .sw::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(145deg, rgba(255, 255, 255, 0.12) 0%, transparent 50%);
      opacity: 0;
      transition: opacity 0.2s;
      pointer-events: none;
      z-index: 1;
    }

    .sw:hover::after {
      opacity: 1;
    }

    /* Labels — always visible */
    .sw-labels {
      position: relative;
      z-index: 2;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .sw-hex {
      font-family: var(--mono);
      font-size: 11px;
      font-weight: 500;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      line-height: 1;
      /* color set by JS */
    }

    .sw-pct {
      font-family: var(--mono);
      font-size: 9.5px;
      font-weight: 400;
      letter-spacing: 0.05em;
      opacity: 0.72;
      line-height: 1;
      /* color set by JS */
    }

    /* Base badge */
    .sw-base {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-size: 8px;
      font-weight: 700;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      border: 1.5px solid currentColor;
      border-radius: 4px;
      padding: 2px 6px;
      opacity: 0.6;
      margin-top: 4px;
      width: fit-content;
    }

    /* Copy flash */
    .sw.copied::before {
      background: rgba(255, 255, 255, 0.25);
      opacity: 1;
    }

    /* ── LIST VIEW ── */
    .sw-list {
      display: flex;
      flex-direction: column;
    }

    .sw-row {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 10px 28px;
      border-bottom: 1px solid var(--border);
      cursor: pointer;
      transition: background 0.14s;
    }

    .sw-row:hover {
      background: var(--surface2);
    }

    .sw-row-chip {
      width: 48px;
      height: 48px;
      border-radius: 11px;
      flex-shrink: 0;
      border: 1.5px solid rgba(28, 26, 23, 0.09);
      box-shadow: 0 1px 5px rgba(28, 26, 23, 0.1);
      transition: transform 0.15s var(--ease);
    }

    .sw-row:hover .sw-row-chip {
      transform: scale(1.07);
    }

    .sw-row-body {
      flex: 1;
      min-width: 0;
    }

    .sw-row-hex {
      font-family: var(--mono);
      font-size: 14px;
      font-weight: 500;
      color: var(--ink);
      letter-spacing: 0.05em;
      text-transform: uppercase;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .sw-row-base-tag {
      font-size: 8px;
      font-weight: 700;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      border: 1px solid var(--ink-3);
      border-radius: 3px;
      padding: 1px 5px;
      color: var(--ink-3);
    }

    .sw-row-meta {
      font-family: var(--mono);
      font-size: 10px;
      color: var(--ink-3);
      margin-top: 3px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .rgb-bars {
      display: flex;
      align-items: flex-end;
      gap: 3px;
      height: 22px;
      flex-shrink: 0;
    }

    .rgb-bar {
      width: 4px;
      border-radius: 2px 2px 0 0;
      min-height: 3px;
      opacity: 0.75;
    }

    .sw-row-copy {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      color: var(--ink-4);
      flex-shrink: 0;
      transition: background 0.15s, color 0.15s;
    }

    .sw-row:hover .sw-row-copy {
      background: rgba(var(--accent-rgb), 0.1);
      color: var(--accent);
    }

    /* ── Toast ── */
    .toast {
      position: fixed;
      bottom: 30px;
      left: calc(var(--sidebar) + (100vw - var(--sidebar)) / 2);
      transform: translateX(-50%) translateY(12px) scale(0.94);
      background: var(--ink);
      color: #f4f2ee;
      border-radius: 99px;
      padding: 10px 16px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-family: var(--mono);
      font-size: 12px;
      opacity: 0;
      pointer-events: none;
      z-index: 999;
      white-space: nowrap;
      transition: all 0.26s var(--ease);
      box-shadow: 0 8px 32px rgba(28, 26, 23, 0.28);
    }

    .toast.show {
      opacity: 1;
      transform: translateX(-50%) translateY(0) scale(1);
    }

    .toast-chip {
      width: 16px;
      height: 16px;
      border-radius: 5px;
      border: 1px solid rgba(255, 255, 255, 0.15);
      flex-shrink: 0;
    }

    /* ── Animations ── */
    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .sw,
    .sw-row {
      animation: fadeUp 0.32s var(--ease) both;
    }

    .sw:nth-child(1),
    .sw-row:nth-child(1) {
      animation-delay: .02s
    }

    .sw:nth-child(2),
    .sw-row:nth-child(2) {
      animation-delay: .04s
    }

    .sw:nth-child(3),
    .sw-row:nth-child(3) {
      animation-delay: .06s
    }

    .sw:nth-child(4),
    .sw-row:nth-child(4) {
      animation-delay: .08s
    }

    .sw:nth-child(5),
    .sw-row:nth-child(5) {
      animation-delay: .10s
    }

    .sw:nth-child(6),
    .sw-row:nth-child(6) {
      animation-delay: .12s
    }

    .sw:nth-child(7),
    .sw-row:nth-child(7) {
      animation-delay: .14s
    }

    .sw:nth-child(8),
    .sw-row:nth-child(8) {
      animation-delay: .16s
    }

    .sw:nth-child(n+9),
    .sw-row:nth-child(n+9) {
      animation-delay: .18s
    }

    ::-webkit-scrollbar {
      width: 4px;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--ink-4);
      border-radius: 99px;
    }
  </style>
</head>

<body>

  <!-- ── Sidebar ── -->
  <aside class="sidebar" id="sidebar">
    <div class="brand">
      <div class="brand-icon" id="brand-icon"><img src="assets/images/favicon.png" alt=""></div>
      <div class="brand-text">
        <div class="brand-name">Color Shades</div>
        <div class="brand-tag">tints &amp; shades</div>
      </div>
    </div>

    <!-- Color input -->
    <div class="s-panel">
      <div class="s-label">Color</div>
      <div class="color-row">
        <div class="color-btn" id="color-btn">
          <input type="color" id="native-picker" value="#fd6204">
        </div>
        <input type="text" class="hex-input" id="hex-input" value="#fd6204" maxlength="7" spellcheck="false"
          autocomplete="off">
      </div>
    </div>

    <!-- Percent -->
    <div class="s-panel">
      <div class="s-label">Percent factor</div>
      <div class="pct-display">
        <div class="pct-number" id="pct-num">10<em>%</em></div>
        <div class="pct-info">
          <div class="pct-info-n" id="pct-count">21</div>
          <div class="pct-info-l">swatches</div>
        </div>
      </div>
      <div class="range-wrap">
        <div class="range-track">
          <div class="range-fill" id="range-fill"></div>
        </div>
        <div class="range-thumb" id="range-thumb"></div>
        <input type="range" class="rng" id="pct-range" min="1" max="50" value="10">
      </div>
      <div class="range-ticks">
        <span>1</span><span>10</span><span>20</span><span>30</span><span>40</span><span>50</span>
      </div>
    </div>

    <!-- Values -->
    <div class="s-panel">
      <div class="s-label">Values</div>
      <div class="vals">
        <div class="val-item" id="vi-hex">
          <span class="val-tag">hex</span>
          <span class="val-str" id="vi-hex-val">#fd6204</span>
          <span class="val-ico"><svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor"
              stroke-width="2.2">
              <rect x="9" y="9" width="13" height="13" rx="2" />
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
            </svg></span>
        </div>
        <div class="val-item" id="vi-rgb">
          <span class="val-tag">rgb</span>
          <span class="val-str" id="vi-rgb-val">8, 193, 149</span>
          <span class="val-ico"><svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor"
              stroke-width="2.2">
              <rect x="9" y="9" width="13" height="13" rx="2" />
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
            </svg></span>
        </div>
        <div class="val-item" id="vi-hsl">
          <span class="val-tag">hsl</span>
          <span class="val-str" id="vi-hsl-val">163°, 92%, 40%</span>
          <span class="val-ico"><svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor"
              stroke-width="2.2">
              <rect x="9" y="9" width="13" height="13" rx="2" />
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
            </svg></span>
        </div>
      </div>
    </div>

    <div class="s-footer">
      <!-- <span>Click any swatch to copy</span> -->
      <a href="index.html">#thekishanmodi</a>
    </div>
  </aside>

  <!-- ── Main ── -->
  <div class="main">
    <div class="accent-strip" id="accent-strip"></div>

    <div class="topbar">
      <div class="topbar-left">
        <span class="topbar-title">Palette</span>
        <div class="color-chip">
          <div class="chip-dot" id="chip-dot"></div>
          <span class="chip-hex" id="chip-hex">#fd6204</span>
        </div>
      </div>
      <div class="topbar-right">
        <div class="view-toggle">
          <button class="vbtn on" id="btn-grid" title="Grid">
            <svg width="13" height="13" viewBox="0 0 16 16" fill="currentColor">
              <rect x="1" y="1" width="6" height="6" rx="1.5" />
              <rect x="9" y="1" width="6" height="6" rx="1.5" />
              <rect x="1" y="9" width="6" height="6" rx="1.5" />
              <rect x="9" y="9" width="6" height="6" rx="1.5" />
            </svg>
          </button>
          <button class="vbtn" id="btn-list" title="List">
            <svg width="13" height="13" viewBox="0 0 16 16" fill="currentColor">
              <rect x="1" y="2" width="14" height="2.5" rx="1.2" />
              <rect x="1" y="6.75" width="14" height="2.5" rx="1.2" />
              <rect x="1" y="11.5" width="14" height="2.5" rx="1.2" />
            </svg>
          </button>
        </div>
      </div>
    </div>

    <div class="swatches-wrap" id="swatches-wrap"></div>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast">
    <div class="toast-chip" id="toast-chip"></div>
    <span id="toast-msg">Copied!</span>
  </div>

  <script>
    /* ── Color math ── */
    function hexToRgb(hex) {
      hex = hex.replace('#', '');
      if (hex.length === 3) hex = hex.split('').map(c => c + c).join('');
      const n = parseInt(hex, 16);
      return { r: (n >> 16) & 255, g: (n >> 8) & 255, b: n & 255 };
    }
    function rgbToHex({ r, g, b }) {
      return '#' + [r, g, b].map(v => v.toString(16).padStart(2, '0')).join('').toUpperCase();
    }
    function rgbToHsl({ r, g, b }) {
      r /= 255; g /= 255; b /= 255;
      const mx = Math.max(r, g, b), mn = Math.min(r, g, b);
      let h = 0, s = 0, l = (mx + mn) / 2;
      if (mx !== mn) {
        const d = mx - mn;
        s = l > .5 ? d / (2 - mx - mn) : d / (mx + mn);
        switch (mx) {
          case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
          case g: h = ((b - r) / d + 2) / 6; break;
          case b: h = ((r - g) / d + 4) / 6; break;
        }
      }
      return { h: Math.round(h * 360), s: Math.round(s * 100), l: Math.round(l * 100) };
    }
    function tint(rgb, p) {
      const f = p / 100;
      return { r: Math.round(rgb.r + (255 - rgb.r) * f), g: Math.round(rgb.g + (255 - rgb.g) * f), b: Math.round(rgb.b + (255 - rgb.b) * f) };
    }
    function shade(rgb, p) {
      const f = p / 100;
      return { r: Math.round(rgb.r * (1 - f)), g: Math.round(rgb.g * (1 - f)), b: Math.round(rgb.b * (1 - f)) };
    }
    function luminance({ r, g, b }) {
      const c = v => { v /= 255; return v <= .03928 ? v / 12.92 : Math.pow((v + .055) / 1.055, 2.4); };
      return .2126 * c(r) + .7152 * c(g) + .0722 * c(b);
    }
    /* Adaptive text color — dark or light based on luminance */
    function textFg(rgb) {
      return luminance(rgb) > 0.4 ? 'rgba(0,0,0,0.75)' : 'rgba(255,255,255,0.92)';
    }

    /* ── State ── */
    let HEX = '#fd6204';
    let PCT = 10;
    let VIEW = 'grid';

    /* ── DOM ── */
    const $ = id => document.getElementById(id);
    const nativePicker = $('native-picker');
    const hexInput = $('hex-input');
    const colorBtn = $('color-btn');
    const pctRange = $('pct-range');
    const pctNum = $('pct-num');
    const pctCount = $('pct-count');
    const rangeFill = $('range-fill');
    const rangeThumb = $('range-thumb');
    const swWrap = $('swatches-wrap');
    const brandIcon = $('brand-icon');
    const chipDot = $('chip-dot');
    const chipHex = $('chip-hex');
    const accentStrip = $('accent-strip');
    const toast = $('toast');
    const toastMsg = $('toast-msg');
    const toastChip = $('toast-chip');
    const btnGrid = $('btn-grid');
    const btnList = $('btn-list');

    /* ── Main render ── */
    function render() {
      const rgb = hexToRgb(HEX);
      const hsl = rgbToHsl(rgb);
      const pct = PCT;

      // CSS vars
      document.documentElement.style.setProperty('--accent', HEX);
      document.documentElement.style.setProperty('--accent-rgb', `${rgb.r},${rgb.g},${rgb.b}`);

      // Sidebar + topbar
      colorBtn.style.background = HEX;
      colorBtn.style.boxShadow = `0 2px 10px rgba(${rgb.r},${rgb.g},${rgb.b},.38)`;
      brandIcon.style.background = HEX;
      brandIcon.style.color = luminance(rgb) > .4 ? '#1c1a17' : '#fff';
      brandIcon.style.boxShadow = `0 2px 10px rgba(${rgb.r},${rgb.g},${rgb.b},.38)`;
      chipDot.style.background = HEX;
      chipHex.textContent = HEX;

      $('vi-hex-val').textContent = HEX;
      $('vi-rgb-val').textContent = `${rgb.r}, ${rgb.g}, ${rgb.b}`;
      $('vi-hsl-val').textContent = `${hsl.h}°, ${hsl.s}%, ${hsl.l}%`;

      pctNum.innerHTML = `${pct}<em>%</em>`;

      // Slider UI
      const p01 = (pct - 1) / 49;
      rangeFill.style.width = (p01 * 100) + '%';
      rangeThumb.style.left = (p01 * 100) + '%';
      rangeThumb.style.borderColor = HEX;
      rangeThumb.style.boxShadow = `0 1px 8px rgba(${rgb.r},${rgb.g},${rgb.b},.45), 0 1px 3px rgba(0,0,0,.1)`;

      // Gradient strip
      accentStrip.style.background = `linear-gradient(to right, #ffffff, ${HEX}, #000000)`;

      // Steps
      const steps = Math.floor(100 / pct);
      const tints = [], shades = [];
      for (let i = steps; i >= 1; i--) { const v = Math.min(i * pct, 99); tints.push({ rgb: tint(rgb, v), label: `+${v}%` }); }
      for (let i = 1; i <= steps; i++) { const v = Math.min(i * pct, 99); shades.push({ rgb: shade(rgb, v), label: `-${v}%` }); }

      const total = tints.length + 1 + shades.length;
      pctCount.textContent = total;

      // Render sections
      swWrap.innerHTML = '';
      addSection('Tints', tints.length, tints.map(t => makeItem(t.rgb, t.label, false)));
      addSection('Base', 1, [makeItem(rgb, '—', true)]);
      addSection('Shades', shades.length, shades.map(s => makeItem(s.rgb, s.label, false)));
    }

    function addSection(title, count, items) {
      const bar = document.createElement('div');
      bar.className = 'sec-bar';
      bar.innerHTML = `<span class="sec-name">${title}</span><span class="sec-rule"></span><span class="sec-num">${count}</span>`;
      swWrap.appendChild(bar);

      const wrap = document.createElement('div');
      wrap.className = VIEW === 'grid' ? 'sw-grid' : 'sw-list';
      items.forEach(el => wrap.appendChild(el));
      swWrap.appendChild(wrap);
    }

    function makeItem(rgb, label, isBase) {
      return VIEW === 'grid' ? makeGrid(rgb, label, isBase) : makeList(rgb, label, isBase);
    }

    /* ── Grid swatch — hex + pct always visible ── */
    function makeGrid(rgb, label, isBase) {
      const hex = rgbToHex(rgb);
      const color = textFg(rgb);
      const isLight = luminance(rgb) > 0.4;

      const el = document.createElement('div');
      el.className = 'sw' + (isLight ? ' light-swatch' : '');
      el.style.background = hex;
      el.title = `Click to copy ${hex}`;

      el.innerHTML = `
    <div class="sw-labels">
      <div class="sw-hex" style="color:${color}">${hex}</div>
      <div class="sw-pct" style="color:${color}">${isBase ? 'Base' : label}</div>
      ${isBase ? `<div class="sw-base" style="color:${color}">base</div>` : ''}
    </div>`;

      el.addEventListener('click', () => {
        copy(hex);
        el.classList.add('copied');
        setTimeout(() => el.classList.remove('copied'), 500);
      });
      return el;
    }

    /* ── List row ── */
    function makeList(rgb, label, isBase) {
      const hex = rgbToHex(rgb);
      const hsl = rgbToHsl(rgb);
      const rH = Math.max(3, Math.round((rgb.r / 255) * 20));
      const gH = Math.max(3, Math.round((rgb.g / 255) * 20));
      const bH = Math.max(3, Math.round((rgb.b / 255) * 20));

      const el = document.createElement('div');
      el.className = 'sw-row';
      el.innerHTML = `
    <div class="sw-row-chip" style="background:${hex}"></div>
    <div class="sw-row-body">
      <div class="sw-row-hex">
        ${hex}
        ${isBase ? `<span class="sw-row-base-tag">base</span>` : ''}
      </div>
      <div class="sw-row-meta">rgb(${rgb.r}, ${rgb.g}, ${rgb.b}) · hsl(${hsl.h}°,${hsl.s}%,${hsl.l}%) · ${label}</div>
    </div>
    <div class="rgb-bars">
      <div class="rgb-bar" style="height:${rH}px;background:#ef4444"></div>
      <div class="rgb-bar" style="height:${gH}px;background:#22c55e"></div>
      <div class="rgb-bar" style="height:${bH}px;background:#3b82f6"></div>
    </div>
    <div class="sw-row-copy">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
    </div>`;
      el.addEventListener('click', () => copy(hex));
      return el;
    }

    /* ── Copy & toast ── */
    let toastTimer;
    function copy(text) {
      navigator.clipboard.writeText(text).catch(() => {
        const ta = Object.assign(document.createElement('textarea'), { value: text, style: 'position:fixed;opacity:0' });
        document.body.append(ta); ta.select(); document.execCommand('copy'); ta.remove();
      });
      toastChip.style.background = text;
      toastMsg.textContent = `${text} copied to clipboard`;
      toast.classList.add('show');
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => toast.classList.remove('show'), 1900);
    }

    /* ── Helpers ── */
    function isValidHex(h) { return /^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(h.trim()); }
    function norm(h) {
      h = h.trim().replace(/^#?/, '#');
      if (h.length === 4) h = '#' + h[1] + h[1] + h[2] + h[2] + h[3] + h[3];
      return h.toUpperCase();
    }

    /* ── Events ── */
    nativePicker.addEventListener('input', e => {
      HEX = e.target.value.toUpperCase();
      hexInput.value = HEX;
      render();
    });

    hexInput.addEventListener('input', e => {
      if (isValidHex(e.target.value)) {
        HEX = norm(e.target.value);
        nativePicker.value = HEX;
        render();
      }
    });
    hexInput.addEventListener('keydown', e => {
      if (e.key === 'Enter' && isValidHex(e.target.value)) {
        HEX = norm(e.target.value);
        hexInput.value = HEX;
        nativePicker.value = HEX;
        render();
      }
    });

    pctRange.addEventListener('input', e => { PCT = +e.target.value; render(); });

    ['vi-hex', 'vi-rgb', 'vi-hsl'].forEach(id => {
      $(id).addEventListener('click', () => copy($(id).querySelector('.val-str').textContent));
    });

    btnGrid.addEventListener('click', () => {
      VIEW = 'grid'; btnGrid.classList.add('on'); btnList.classList.remove('on'); render();
    });
    btnList.addEventListener('click', () => {
      VIEW = 'list'; btnList.classList.add('on'); btnGrid.classList.remove('on'); render();
    });

    function readHash() {
      const h = location.hash.slice(1);
      if (isValidHex(h)) { HEX = norm(h); nativePicker.value = HEX; hexInput.value = HEX; }
    }
    readHash();
    window.addEventListener('hashchange', () => { readHash(); render(); });

    render();
  </script>
</body>

</html>